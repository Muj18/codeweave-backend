### Ingress / Load Balancer â€” Pro SRE Hands-On

Target Health / Diagnostics
- aws elbv2 describe-target-health --target-group-arn <tg_arn>
- Confirm targets are registered and passing; if 0 healthy, check readiness probe + app logs.

Health Check Parity
- Align ALB/NLB/NGINX health check path/timeout with Kubernetes readiness probe.
- Health endpoints should be fast, no redirects, and return 200.

Common Fixes
- Increase idle/response timeouts for long-lived requests.
- Ensure service targetPort matches container port.
- During deploys, consider slightly higher healthy_threshold to avoid transient flaps.

NGINX Ingress Quick Checks
- kubectl get ingress -n <ns> -o yaml | grep -i "nginx.ingress.kubernetes.io"
- Validate annotations for timeouts, rewrite rules, backend-protocol, and buffering.
