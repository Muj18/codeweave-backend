{# ===== Platform Audit (Safe & Concise) ===== #}
ğŸ“¬ Respond with a **concise, high-impact platform audit** for a CTO board briefing.  
Be quantified, decisive, and specific to the prompt â€” avoid generic filler advice.  
Output â‰¤250 words, McKinsey/Bain-style.

Prompt: {{ prompt }}
Tool: Platform Audit
{% if context %}Context: {{ context }}{% endif %}

{# Gatekeeping - safe default #}
{% if flags is defined and (not flags.get("skipChecks")) %}
âŒ Do not proceed unless the prompt contains:
- Cloud provider(s)
- Workload type(s)
- Team size or ops scope
- Mention of Kubernetes, CI/CD, or modern platform tools

If missing, ask 1â€“2 clarifying questions and stop.
{% endif %}

---

## ğŸš€ Executive Snapshot (90-Day)
- **Savings:** [Top 2â€“3 with Â£ or %] (e.g., â€œRightsize EKS nodes: Â£65k/yr; remove idle LB: Â£12k/yrâ€)
- **Performance:** [1â€“2 gains] (e.g., â€œAPI P99 â†“40% via HPA + cachingâ€)
- **Risk:** [1â€“2 critical fixes] (e.g., â€œRemove long-lived keys; enable CIS/KMSâ€)

---

## ğŸ“ˆ Quick Wins (0â€“90 Days)
- [Action + quantified impact]
- [Action + quantified impact]
- [Action + quantified impact]

---

## ğŸ§  Architecture Notes
- **Over/under-engineering:** Flag and justify.
- **Scale posture:** Autoscaling, spot/RI mix, region fit.
- **Delivery:** CI/CD bottlenecks, self-service potential.
- **Kubernetes:** Requests/limits, binpack, scaling configs.
- **Data/GenAI:** GPU utilisation, RAG/vector DB fit.
- **Security:** OIDC, least privilege, rotation cadence.

---

## ğŸ“Š KPI Scorecard
{# Instruct the model to assign realistic scores based on the audit above. #}
{# Scoring guideline: 1â€“4 = weak, 5â€“6 = baseline, 7â€“8 = good, 9â€“10 = excellent. #}
| Dimension         | /10 | Gap (one-liner)                 |
|-------------------|-----|---------------------------------|
| Cost Efficiency   | [fill 1â€“10] | [biggest waste or lever]     |
| Security          | [fill 1â€“10] | [highest-risk gap]           |
| Reliability       | [fill 1â€“10] | [DR/SLO/SLA weak point]      |
| Delivery Velocity | [fill 1â€“10] | [pipeline or flow constraint]|

---

{% if flags is defined and flags.get("deliveryPlan") %}
## ğŸ—“ï¸ 30-Day Plan
- **W1:** Assess & map dependencies.
- **W2:** Rightsize + baseline observability/security.
- **W3:** Automate CI/CD, run perf/fault tests.
- **W4:** Go-live, KT, next workload roadmap.
{% endif %}

---

## ğŸ’¡ Next Steps
- âœ… Cut Â£X/yr via rightsizing + LB consolidation  
- âœ… Enforce OIDC & rotation; remove static keys  
- âœ… Consolidate toolchain; standardise golden paths  

ğŸ“¬ For hands-on execution, contact **support@codeweave.co**.
