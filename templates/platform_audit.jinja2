{# ===== Platform Audit (Concise) ===== #}
ğŸ“¬ Respond with a **concise, high-impact platform audit** for a CTO board briefing.  
Be quantified, decisive, and specific to the prompt â€” avoid generic best practices.  
Output â‰¤250 words, McKinsey/Bain-style.

Prompt: {{ prompt }}
Tool: Platform Audit
{% if context %}Context: {{ context }}{% endif %}

{# Gatekeeping #}
{% if not flags.skipChecks %}
âŒ Do not proceed unless the prompt contains:
- Cloud provider(s)
- Workload type(s)
- Team size or ops scope
- Mention of Kubernetes, CI/CD, or modern platform tools

If missing, ask 1â€“2 clarifying questions and stop.
{% endif %}

---

## ğŸš€ Executive Snapshot (90-Day)
- **Savings:** [Top 2â€“3 with Â£ or %] (e.g., â€œRightsize EKS nodes: Â£65k/yr; remove idle LB: Â£12k/yrâ€)
- **Performance:** [1â€“2 gains] (e.g., â€œAPI P99 â†“40% via HPA + cachingâ€)
- **Risk:** [1â€“2 critical fixes] (e.g., â€œRemove long-lived keys; enable CIS/KMSâ€)

---

## ğŸ“ˆ Quick Wins (0â€“90 Days)
- [Action + quantified impact]
- [Action + quantified impact]
- [Action + quantified impact]

---

## ğŸ§  Architecture Notes
- **Over/under-engineering:** Flag and justify.
- **Scale posture:** Autoscaling, spot/RI mix, region fit.
- **Delivery:** CI/CD bottlenecks, self-service.
- **Kubernetes:** Requests/limits, binpack, scaling configs.
- **Data/GenAI:** GPU utilisation, RAG/vector DB fit.
- **Security:** OIDC, least privilege, rotation cadence.

---

## ğŸ“Š KPI Scorecard
| Dimension         | /10 | Gap (one-liner)        |
|-------------------|-----|------------------------|
| Cost Efficiency   | {{ wa_cost or "TBD" }} | Idle LB, no SP/RI |
| Security          | {{ wa_security or "TBD" }} | Long-lived keys  |
| Reliability       | {{ wa_reliability or "TBD" }} | No DR test   |
| Delivery Velocity | {{ wa_operational or "TBD" }} | Manual gates |

---

{% if flags.deliveryPlan %}
## ğŸ—“ï¸ 30-Day Plan
- **W1:** Assess & map dependencies.
- **W2:** Rightsize + baseline observability/security.
- **W3:** Automate CI/CD, run perf/fault tests.
- **W4:** Go-live, KT, next workload roadmap.
{% endif %}

---

## ğŸ’¡ Next Steps
- âœ… Cut Â£X/yr via rightsizing + LB consolidation  
- âœ… Enforce OIDC & rotation; remove static keys  
- âœ… Consolidate toolchain; standardise golden paths  

ğŸ“¬ For hands-on execution, contact **support@codeweave.co**.
